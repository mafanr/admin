webpackJsonp([10],{XIUn:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("vLgD"),a=s("M9A7"),i=s("vMJZ"),r={name:"setting",data:function(){return{users:[],oldPw:"",newPW1:"",newPW2:"",priv:"normal",resetUsername:"",resetPW1:"",resetPW2:""}},methods:{setUserPW:function(){var e=this;""!=this.resetPW1&&""!=this.resetPW2&&""!=this.resetUsername?this.resetPW1==this.resetPW2?Object(n.a)({url:"/user/setUserPW",method:"POST",params:{username:this.resetUsername,new_pw:this.resetPW1}}).then(function(t){e.$message({message:"setting pw ok",type:"success",duration:3e3,center:!0})}):this.$message({message:"the two new pw is not same",type:"warning",duration:3e3,center:!0}):this.$message({message:"required fields must not be empty",type:"warning",duration:3e3,center:!0})},setPW:function(){var e=this;""!=this.oldPw&&""!=this.newPW1&&""!=this.newPW2?this.newPW1==this.newPW2?Object(n.a)({url:"/user/setPW",method:"POST",params:{old_pw:this.oldPw,new_pw:this.newPW1}}).then(function(t){e.$message({message:"setting pw ok",type:"success",duration:3e3,center:!0}),e.$store.dispatch("LogOut").then(function(t){e.$router.push("/adminui/login")})}):this.$message({message:"the two new pw is not same",type:"warning",duration:3e3,center:!0}):this.$message({message:"required fields must not be empty",type:"warning",duration:3e3,center:!0})}},mounted:function(){var e=this;Object(a.a)().then(function(t){e.priv=t.data.data.priv}),Object(i.a)().then(function(t){e.users=t.data.data})},destroyed:function(){}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-form",{staticStyle:{width:"650px","margin-left":"15px"},attrs:{"label-position":"left","label-width":"120px",size:"mini"}},[s("div",{staticClass:"form-block",staticStyle:{padding:"15px 15px"}},[s("el-tag",{staticStyle:{border:"none","font-size":"14px"},attrs:{size:"small"}},[e._v(e._s(e.$t("ops.myPW")))]),e._v(" "),s("el-form-item",{staticStyle:{"margin-top":"25px"},attrs:{label:e.$t("common.old")}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"input the old pw"},model:{value:e.oldPw,callback:function(t){e.oldPw=t},expression:"oldPw"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("common.new")}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"input the new pw"},model:{value:e.newPW1,callback:function(t){e.newPW1=t},expression:"newPW1"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("common.reInput")}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"reinput the new pw"},model:{value:e.newPW2,callback:function(t){e.newPW2=t},expression:"newPW2"}})],1),e._v(" "),s("el-button",{attrs:{type:"success",size:"small"},on:{click:e.setPW}},[e._v(e._s(e.$t("common.submit")))])],1),e._v(" "),"admin"==e.priv||"super_admin"==e.priv?s("div",{staticClass:"form-block",staticStyle:{padding:"15px 15px"}},[s("el-tag",{staticStyle:{border:"none","font-size":"14px"},attrs:{size:"small"}},[e._v(e._s(e.$t("ops.userPW")))]),e._v(" "),s("el-form-item",{staticStyle:{"margin-top":"25px"},attrs:{label:e.$t("common.username")}},[s("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$t("common.selectUser"),filterable:""},model:{value:e.resetUsername,callback:function(t){e.resetUsername=t},expression:"resetUsername"}},e._l(e.users,function(e){return s("el-option",{key:e.id,attrs:{label:e.username,value:e.username}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("common.new")}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"input the new pw"},model:{value:e.resetPW1,callback:function(t){e.resetPW1=t},expression:"resetPW1"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("common.reInput")}},[s("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"reinput the new pw"},model:{value:e.resetPW2,callback:function(t){e.resetPW2=t},expression:"resetPW2"}})],1),e._v(" "),s("el-button",{attrs:{type:"success",size:"small"},on:{click:e.setUserPW}},[e._v(e._s(e.$t("common.submit")))])],1):e._e()])],1)},staticRenderFns:[]},o=s("VU/8")(r,l,!1,null,null,null);t.default=o.exports}});