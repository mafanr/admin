webpackJsonp([16],{"f/tK":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("vLgD"),i={name:"server",data:function(){return{servers:[],defineVisible:!1,tempServer:{},defineStatus:"create",tempPW:""}},methods:{handleEdit:function(e){this.tempServer=e,this.tempServer.ssh_pw="",this.defineStatus="edit",this.defineVisible=!0},queryPW:function(e){Object(l.a)({url:"/ops/server/queryPW",method:"GET",params:{id:e.id}}).then(function(t){e.ssh_pw=t.data.data})},defineSubmit:function(){var e=this;Object(l.a)({url:"/ops/server/define",method:"POST",params:{server:this.tempServer,op:this.defineStatus}}).then(function(t){e.defineVisible=!1,e.loadServers(),e.$message({message:"create ok",type:"success",duration:3e3,center:!0})})},handleCreate:function(){this.defineStatus="create",this.defineVisible=!0},defineTitle:function(){return"create"==this.defineStatus?"Create Server":"Edit Server"},loadServers:function(){var e=this;Object(l.a)({url:"/ops/server/query",method:"GET",params:{}}).then(function(t){e.servers=t.data.data})}},mounted:function(){this.loadServers()},destroyed:function(){}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"filter-container"},[r("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("Create Server")])],1),e._v(" "),r("div",{staticClass:"table"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.servers,border:"",fit:"","highlight-current-row":"",size:"small","default-sort":{prop:"modify_date",order:"descending"}}},[r("el-table-column",{attrs:{align:"center",label:"IP",width:"250",prop:"name",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[r("el-tag",{staticStyle:{border:"none","margin-right":"5px"},attrs:{size:"mini",type:"success"}},[e._v("private")]),e._v(e._s(t.row.private_ip))],1),e._v(" "),r("div",[r("el-tag",{staticStyle:{border:"none","margin-right":"5px"},attrs:{size:"mini"}},[e._v("public")]),e._v(e._s(t.row.public_ip))],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"150",align:"center",label:"Cloud Provider"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.cloud_provider))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"150",align:"center",label:"Region"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.region))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"100",align:"center",label:"Ssh User"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.ssh_user))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"150",align:"center",label:"Ssh PW"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.ssh_pw?r("span",[e._v(e._s(t.row.ssh_pw))]):r("span",[r("i",{staticClass:"el-icon-view hover-cursor icon-primary",on:{click:function(r){e.queryPW(t.row)}}})])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"250",align:"center",label:"Configure"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.configure))])]}}])}),e._v(" "),r("el-table-column",{attrs:{width:"250",align:"center",label:"Expire"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.expre))])]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"Operate","class-name":"small-padding"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleEdit(t.row)}}},[e._v("Edit")])]}}])})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:e.defineTitle(),visible:e.defineVisible},on:{"update:visible":function(t){e.defineVisible=t}}},[r("el-form",{staticStyle:{width:"550px","margin-left":"50px"},attrs:{"label-position":"left","label-width":"130px"}},[r("el-form-item",{attrs:{label:"public ip"}},[r("el-input",{attrs:{placeholder:"a.b.c.d"},model:{value:e.tempServer.public_ip,callback:function(t){e.$set(e.tempServer,"public_ip",t)},expression:"tempServer.public_ip"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"private ip"}},[r("el-input",{attrs:{placeholder:"a.b.c.d"},model:{value:e.tempServer.private_ip,callback:function(t){e.$set(e.tempServer,"private_ip",t)},expression:"tempServer.private_ip"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"cloud provider"}},[r("el-select",{staticClass:"filter-item",staticStyle:{width:"200px","margin-top":"8px"},attrs:{placeholder:"select cloud"},model:{value:e.tempServer.cloud_provider,callback:function(t){e.$set(e.tempServer,"cloud_provider",t)},expression:"tempServer.cloud_provider"}},[r("el-option",{attrs:{label:"private",value:"private"}}),e._v(" "),r("el-option",{attrs:{label:"aliyun",value:"aliyun"}}),e._v(" "),r("el-option",{attrs:{label:"aws",value:"aws"}}),e._v(" "),r("el-option",{attrs:{label:"gce",value:"gce"}}),e._v(" "),r("el-option",{attrs:{label:"azure",value:"azure"}}),e._v(" "),r("el-option",{attrs:{label:"tencent",value:"tencent"}}),e._v(" "),r("el-option",{attrs:{label:"other",value:"other"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"ssh user"}},[r("el-input",{attrs:{placeholder:"e.g. root"},model:{value:e.tempServer.ssh_user,callback:function(t){e.$set(e.tempServer,"ssh_user",t)},expression:"tempServer.ssh_user"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"ssh password"}},[""==e.tempServer.ssh_pw?r("i",{staticClass:"el-icon-view hover-cursor icon-primary",staticStyle:{color:"#67c23a"},on:{click:function(t){e.queryPW(e.tempServer)}}}):r("el-input",{model:{value:e.tempServer.ssh_pw,callback:function(t){e.$set(e.tempServer,"ssh_pw",t)},expression:"tempServer.ssh_pw"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"region"}},[r("el-input",{attrs:{placeholder:"HongKong.B"},model:{value:e.tempServer.region,callback:function(t){e.$set(e.tempServer,"region",t)},expression:"tempServer.region"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"configure"}},[r("el-input",{attrs:{placeholder:"2C.4G.50G"},model:{value:e.tempServer.configure,callback:function(t){e.$set(e.tempServer,"configure",t)},expression:"tempServer.configure"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"expire date"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"pick date"},model:{value:e.tempServer.expire,callback:function(t){e.$set(e.tempServer,"expire",t)},expression:"tempServer.expire"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.defineVisible=!1}}},[e._v("Cancel")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.defineSubmit}},[e._v("Submit")])],1)],1)],1)},staticRenderFns:[]},s=r("VU/8")(i,a,!1,null,null,null);t.default=s.exports}});